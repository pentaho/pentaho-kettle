# optional (unless used in your yaml data below) - can be overridden by upstream properties using the same name
buildProperties:
        # global build control defaults
        # These are understood by the shared pipeline libraries:
        BUILD_PLAN_ID                  : Multishim master branch pipeline
        JOB_ITEM_DEFAULTS:
          archivable: true
# required
jobGroups:

  10:

     - jobID           :  osgi-bundles-lowdeps
       scmUrl          :  https://github.com/pentaho/pentaho-osgi-bundles.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -P lowdeps -DskipDefault
       parallelize     :  true
       versionProperty :  pentaho-osgi-bundles.version
       archivable      :  false

     - jobID           :  hadoop-shims-api
       scmUrl          :  https://github.com/pentaho/pentaho-hadoop-shims.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -DskipDefault -P api
       versionProperty :  pentaho-hadoop-shims.version
       archivable      :  false
       
  30:

     - jobID           :  hadoop-shims-common
       scmUrl          :  https://github.com/pentaho/pentaho-hadoop-shims.git
       scmBranch       :  ${DEFAULT_BRANCH}
       root            :  common
       parallelize     :  true
       versionProperty :  pentaho-hadoop-shims.version                     

  40:

     - jobID           :  hadoop-shims-all
       scmUrl          :  https://github.com/pentaho/pentaho-hadoop-shims.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  pentaho-hadoop-shims.version
       archivable      :  false
       root            :  shims
       parallelize     :  true
       
     - jobID           :  osgi-bundles-highdeps
       scmUrl          :  https://github.com/pentaho/pentaho-osgi-bundles.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -P highdeps -DskipDefault
       versionProperty :  pentaho-osgi-bundles.version
       archivable      :  false

  60:

     - jobID           :  big-data-plugin-features
       scmUrl          :  https://github.com/pentaho/big-data-plugin.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -DfeaturesOnly
       versionProperty :  big-data-plugin.version
       archivable      :  false

  70:

     - jobID           :  hadoop-shims-ee-common
       scmUrl          :  https://github.com/pentaho/pentaho-big-data-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -DskipDefault -P common
       parallelize     :  true
       versionProperty :  pentaho-hadoop-shims.version

     - jobID           :  pdi-yarn-plugin
       scmUrl          :  https://github.com/pentaho/pentaho-yarn-kettle-plugin.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  pentaho-kettle-yarn-plugin.version
       archivable      :  false

# yarn was removed from karaf assembly so this should work    
     - jobID           :  karaf-assembly
       scmUrl          :  https://github.com/pentaho/pentaho-karaf-assembly.git
       scmBranch       :  ${DEFAULT_BRANCH}
       parallelize     :  true
       versionProperty :  pentaho-karaf.version
       testable        :  false

  80:

     - jobID           :  hadoop-shims-ee-all
       scmUrl          :  https://github.com/pentaho/pentaho-big-data-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       root            :  shims
       directives      :  += -P all
       parallelize     :  true
       versionProperty :  pentaho-hadoop-shims.version

     - jobID           :  big-data-plugin-assembly
       scmUrl          :  https://github.com/pentaho/big-data-plugin.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  big-data-plugin.version
       root            :  assemblies
       parallelize     :  true
       testable        :  false

     - jobID           :  karaf-assembly-ee
       scmUrl          :  https://github.com/pentaho/pentaho-karaf-ee-assembly.git
       scmBranch       :  ${DEFAULT_BRANCH}
       parallelize     :  true
       versionProperty :  pentaho-karaf.version
       testable        :  false

  130:

     - jobID           :  big-data-plugin-assembly-ee
       scmUrl          :  https://github.com/pentaho/pentaho-big-data-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -DskipDefault -P assemblies,pack
       versionProperty :  big-data-plugin.version
       atomicScmCheckout: true
       testable        :  false

     - jobID           :  prd-assembly
       scmUrl          :  https://github.com/pentaho/pentaho-reporting.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -Pdesigner
       versionProperty :  pentaho-reporting.version
       testable        :  false
       
     - jobID           :  pad-assembly
       scmUrl          :  https://github.com/pentaho/pentaho-aggdesigner.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  aggdesigner.version
# PAD does integration tests by default. We don't need them here       
       testable        :  false                     
       
  140:
        
     - jobID           :  prd-assembly-ee
       scmUrl          :  https://github.com/pentaho/pentaho-reportdesigner-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  pentaho-reporting.version
       testable        :  false
       
     - jobID           :  pad-assembly-ee
       scmUrl          :  https://github.com/pentaho/pentaho-aggdesigner-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  aggdesigner.version
# PAD does integration tests by default. We don't need them here       
       testable        :  false       

     - jobID           :  pdi-client-assembly
       scmUrl          :  https://github.com/pentaho/pentaho-kettle.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -DskipDefault -P assemblies
       versionProperty :  pdi.version       
       testable        :  false     
                

     - jobID           :  platform-server-root-pom
       scmUrl          :  https://github.com/pentaho/pentaho-platform.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -N
       versionProperty :  platform.version
       testable        :  false       

     - jobID           :  platform-server-ee-root-pom
       scmUrl          :  https://github.com/pentaho/pentaho-platform-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -pl .,bi-platform-ee
       versionProperty :  platform.version
       testable        :  false               
       
  150:
  
     - jobID           :  pdi-client-assembly-ee
       scmUrl          :  https://github.com/pentaho/pdi-assemblies-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  pdi.version
       testable        :  false   
       
     - jobID           :  platform-server-assembly
       scmUrl          :  https://github.com/pentaho/pentaho-platform.git
       scmBranch       :  ${DEFAULT_BRANCH}
       root            :  assemblies
       parallelize     :  true
       versionProperty :  platform.version
       testable        :  false       
       
  160:
  
     - jobID           :  platform-server-assembly-ee
       scmUrl          :  https://github.com/pentaho/pentaho-platform-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       root            :  assemblies
       parallelize     :  true
       versionProperty :  platform.version
       testable        :  false               
       